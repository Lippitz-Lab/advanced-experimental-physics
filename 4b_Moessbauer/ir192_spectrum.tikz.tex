% \documentclass[margin=0mm]{standalone}
% \input{../tikz_header}

% \begin{document}


\begin{tikzpicture}
\begin{axis}[
  width=30mm,
  height=25mm, 
  scale only axis,
  /pgfplots/every axis/.append style={font=\footnotesize},
  scaled ticks=false,
%  ymin=0.01,
 xmin = -6,
 xmax = 12,
  xlabel = {speed $v$ (cm/s)},
  ylabel = {transm. change (\%)},
  ytick = {-1, 0},
axis x line*=bottom,
 font=\footnotesize,
]

\draw[gray, dashed] (-10,0) -- (20,0);


\addplot[black,thick]
    table[col sep=comma, x index=0, y index=1] {\currfiledir data/ir192_spectrum_fit.csv};
  
\addplot[blue, only marks, mark=*, mark size = 1,
    error bars/.cd, y dir=both, y explicit]    table[col sep=comma, x index=0,
     y expr={(\thisrowno{2}+ \thisrowno{1})/2},
     y error expr={abs(\thisrowno{2} - \thisrowno{1})/2}]
      {\currfiledir data/ir192_spectrum.csv};



\end{axis}
  % % create a second (top) x axis showing the Doppler energy shift in ÂµeV
    \begin{axis}[%
      at={(current axis.north west)}, anchor=south west,
      width=30mm,
      height=0.1pt,
       scale only axis,
       xmin = -6,
      xmax = 12,
      ymin = 1,ymax=2,
      axis y line=none,
      axis x line*=top,
      xtick = {-4.65,0,4.65,9.3}, font=\footnotesize,
      enlarge x limits=false,
      scaled ticks = false,
      xticklabel={\pgfmathparse{\tick*4.3}%
                  \pgfmathprintnumber[fixed,precision=1]{\pgfmathresult}},
     % x tick label style={font=\footnotesize, yshift=2pt},
       font=\footnotesize,
       xlabel = {energy $E$ ($\mu$eV)}
    ]
  %\addplot {x^2};
  \end{axis}%
\end{tikzpicture}
 

%\end{document}